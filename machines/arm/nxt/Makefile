#
# Trampoline OS
#
# Trampoline is copyright (c) IRCCyN 2005+
# Copyright ESEO for function and data structures documentation and ARM port
# Trampoline est protÔøΩgÔøΩ par la loi sur la propriÔøΩtÔøΩ intellectuelle
#
# This software is distributed under the Lesser GNU Public Licence
#
# Warning: This Makefile SHOULD not be called directly.
#          It is automatically called from the Makefile
#
# Trampoline OS
#
# Trampoline is copyright (c) IRCCyN 2005+
# Trampoline is protected by the French intellectual property law.
#
# This software is distributed under the Lesser GNU Public Licence
#
# $Date:$
# $Rev:$
# $Author:$
# $URL:$
#
# Warning: This Makefile SHOULD not be called directly.
#          It is automatically called from the Makefile
#          generated by goil.
#
#kernel OS architecture dependant files

SOURCES += nxt_tpl_sleep.S \
nxt_tpl_stubs.c \
nxt_irq.c \
nxt_exception_catch.S \
nxt_bootstrap_stage1.S \
nxt_exception_catch.c

########
# The NXT brick is waited for a specific file header which is in the driver files
SOURCES += nxt_binary_header.s \
nxt_entry_point.s \
interrupts.s #\
ecrobot_init.s \
irq.s \

CFLAGS += -I$(MACHINE_PATH)/arm/nxt/drivers/ecrobot/c \
-I$(MACHINE_PATH)/arm/nxt/drivers/ecrobot/bios \
-I$(MACHINE_PATH)/arm/nxt/drivers/lejos_nxj/src/nxtvm/platform/nxt/ \
-I$(MACHINE_PATH)/arm/nxt/drivers/lejos_nxj/src/nxtvm/javavm \
-I$(MACHINE_PATH)/arm/nxt/drivers/lejos_nxj/src/nxtvm/ \
-I$(MACHINE_PATH)/arm/nxt/drivers/

# Driver files
TEMP_SOURCE_DIRS += $(MACHINE_PATH)/arm/nxt/drivers/ecrobot/c
SOURCES += ecrobot_usb.c \
ecrobot_interface.c \
ecrobot_device_hook.c \
ecrobot_bluetooth.c \
ecrobot_base.c #\
ecrobot.c 

TEMP_SOURCE_DIRS += $(MACHINE_PATH)/arm/nxt/drivers/ecrobot/bios
SOURCES += flash_loader.c \
bios_display.c

TEMP_SOURCE_DIRS += $(MACHINE_PATH)/arm/nxt/drivers/lejos_nxj/src/nxtvm/platform/nxt/
SOURCES += byte_fifo.c \
aic.c \
nxt_avr.c \
i2c.c \
systick.c \
nxt_motors.c \
bt.c \
display.c \
sensors.c \
twi.c \
nxt_lcd.c \
nxt_spi.c \
flashprog.c \
#udp.c \
sound.c \
uart.c \

TEMP_SOURCE_DIRS += $(MACHINE_PATH)/arm/nxt/drivers
SOURCES += buttons.c

